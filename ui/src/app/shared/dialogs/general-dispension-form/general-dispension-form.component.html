
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<style>
  .one(
    width:10rem;
    padding:20pt;
  )
</style>
<div class="form" *ngIf="conceptFields$ | async as conceptFields">
  <div class="loading-overlay" *ngIf="savingOrder">
    <div class="text-center">
      <div>Saving order details...</div>
      <div class="mt-3 d-flex justify-content-center w-100">
        <mat-spinner diameter="50" strokeWidth="2"></mat-spinner>
      </div>
    </div>
  </div>
  <div *ngIf="errors">
    <app-shared-error [errors]="errors"></app-shared-error>
  </div>
  <div *ngIf="!savingOrder">
    <div>
      <app-form
        [fields]="[drugConceptField]"
        (formUpdate)="onFormUpdate($event, 'drug')"
      ></app-form>
      <!-- <app-form
        *ngIf="strengthFormField"
        [fields]="[strengthFormField]"
        (formUpdate)="onFormUpdate($event)"
      ></app-form> -->
    </div>
    <!-- <div *ngIf="conceptFields">
      <app-concepts-form
        [conceptFields]="conceptFields"
        (formUpdate)="onFormUpdate($event)"
      ></app-concepts-form>
    </div> -->
    <!-- <div *ngIf="conceptFields">
    </div> -->
    <div class="row" *ngIf="conceptFields">
      <div class="col-4">
        <app-concepts-form
          [conceptFields]="[conceptFields[0]]"
          [textfield]="true"
          (formUpdate)="onFormUpdate($event)"
        ></app-concepts-form>
        <app-form *ngIf="!conceptFields"
          [fields]="[drugDoseField]"
          (formUpdate)="onFormUpdate($event)"
        ></app-form>
      </div>
      <div class="col-4" *ngIf="dosingUnits$ | async as dosingUnits">
        <app-unit-field
          [dosingUnits]="dosingUnits"
          (formUpdate)="onFormUpdate($event)"
        ></app-unit-field>
      </div>
      <div
        class="col-4"
        *ngIf="dosingFrequencies$ | async as dosingFrequencies"
      >
        <app-unit-field
          [dosingFrequencies]="dosingFrequencies"
          (formUpdate)="onFormUpdate($event)"
        ></app-unit-field>
      </div>
    </div>
    <div class="row" *ngIf="conceptFields">
      <div class="col-5">
        <app-concepts-form
          [conceptFields]="[conceptFields[1]]"
          [textfield]="true"
          (formUpdate)="onFormUpdate($event)"
        ></app-concepts-form>
        <app-form *ngIf="!conceptFields"
          [fields]="[drugDurationField]"
          (formUpdate)="onFormUpdate($event)"
        ></app-form>
      </div>
      <div class="col-7" *ngIf="durationUnits$ | async as durationUnits">
        <app-unit-field
          [durationUnits]="durationUnits"
          (formUpdate)="onFormUpdate($event)"
        ></app-unit-field>
      </div>
    </div>
    <div *ngIf="drugRoutesSettings">
      <div *ngIf="drugRoutes$ | async as drugRoutes">
        <app-unit-field
          [drugRoutes]="drugRoutes"
          (formUpdate)="onFormUpdate($event)"
        ></app-unit-field>
      </div>
    </div>

    <div class="float-left">
     <!--<input _ngcontent-bep-c315=""
     type="text" matinput="" 
     autocomplete="off" 
     class="mat-input-element mat-form-field-autofill-control mat-autocomplete-trigger ng-tns-c88-79 cdk-text-field-autofill-monitored  input-group" 
     ng-reflect-type="text" 
     ng-reflect-autocomplete-attribute="off" 
     ng-reflect-placeholder="Search Drug" 
     ng-reflect-required="true" 
     ng-reflect-value="" 
     ng-reflect-disabled="false" 
     ng-reflect-autocomplete="[object Object]" 
     required="" 
     id="mat-input-15" 
     data-placeholder="Search Drug" 
     aria-required="true" 
     role="combobox" 
     aria-autocomplete="list" 
     aria-expanded="false" 
     aria-haspopup="true" 
     placeholder="Consumables">

      -->

        <!--<div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
            <option selected>Consumables</option>
            <option value="1">Consumable 1</option>
            <option value="2">Consumable 2</option>
            <option value="3">Consumable 3</option>
            </select> 
           </div>-->

        <input type="text" name="example" style="width:10rem" list="exampleList" placeholder="Consumables" class="one">
        <datalist id="exampleList">
          <option value="Consumable 1"></option>
          <option value="Consumable 2"></option>
          <option value="Consumable 3"></option>
          <option value="Consumable 4"></option>
          <option value="Consumable 5"></option>
          <option value="Consumable 6"></option>
          <option value="Consumable 7"></option>
          <option value="Consumable 8"></option>
          <option value="Consumable 9"></option>
          
        </datalist>
     
     
            
     </div>

    <div class="float-right">
      <button
        class="float-right"
        (click)="saveOrder($event, conceptFields)"
        mat-flat-button
        [color]="savingError ? 'warn' : 'primary'"
        [disabled]="savingOrder"
      >
        <mat-icon *ngIf="savingError" class="mr-2">error</mat-icon>
        <mat-spinner
          color="primary"
          *ngIf="savingOrder"
          [diameter]="17"
          class="order__spinner mr-2"
        ></mat-spinner>
        <span>{{ savingOrder ? "Saving..." : "Save" }}</span>
      </button>
    </div>
  </div>
</div>











